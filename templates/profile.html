{% extends "base.html" %}
{% block content %}
<div class="profile-container">
    <!-- Profile Header -->
    <div class="profile-header">
        <div class="profile-info">
            <h2 class="display-name">{{ user.display_name or user.username }}</h2>
            <span class="username">@{{ user.username }}</span>
        </div>
        <div class="profile-status">
            <span class="presence-indicator {{ user.presence_state }}"></span>
            <span class="status-text">{{ user.status or 'No status set' }}</span>
        </div>
    </div>

    <!-- Profile Settings -->
    <div class="profile-settings">
        <form method="POST" action="{{ url_for('update_profile') }}">
            <div class="form-group">
                <label for="display_name">Display Name</label>
                <input type="text" id="display_name" name="display_name" 
                       value="{{ user.display_name or '' }}" maxlength="50"
                       placeholder="Enter display name">
            </div>

            <div class="form-group">
                <label for="bio">Bio</label>
                <textarea id="bio" name="bio" maxlength="500" 
                          placeholder="Tell us about yourself">{{ user.bio or '' }}</textarea>
            </div>

            <div class="form-group">
                <label for="theme">Theme</label>
                <select id="theme" name="profile_theme">
                    <option value="dark" {% if user.profile_theme == 'dark' %}selected{% endif %}>Dark</option>
                    <option value="light" {% if user.profile_theme == 'light' %}selected{% endif %}>Light</option>
                </select>
            </div>

            <div class="form-group">
                <label for="accent_color">Accent Color</label>
                <input type="color" id="accent_color" name="accent_color" 
                       value="{{ user.accent_color or '#5865F2' }}">
            </div>

            <button type="submit" class="btn btn-primary">Save Changes</button>
        </form>
    </div>
</div>
{% endblock %}